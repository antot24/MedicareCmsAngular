<div class="container">
    <h3> ADD NEW STAFF</h3>
    <hr>

    <form name="frmStaff" #form="ngForm" autocomplete="off" (ngSubmit)="onSubmit(form)">
        <!-- StaffId (Auto-generated, readonly) -->
        <div class="form-group">
            <label>StaffId</label>
            <input type="text" readonly name="StaffId" class="form-control" [(ngModel)]="adminService.staff.StaffId">
        </div>

        <!-- First Name -->
        <div class="form-group">
            <label>First Name</label>
            <input type="text" name="FirstName" #FirstName="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.FirstName" minlength="3" maxlength="25" required
                pattern="^[A-Z][a-zA-Z]*( [A-Z][a-zA-Z]*)*$"
                [ngClass]="{'is-invalid': FirstName.invalid && (FirstName.dirty || FirstName.touched)}" />

            <div class="validation-error" *ngIf="FirstName.invalid && (FirstName.dirty || FirstName.touched)">
                <div *ngIf="FirstName.errors?.required">First Name is required!</div>
                <div *ngIf="FirstName.errors?.minlength">Must be at least 3 characters long.</div>
                <div *ngIf="FirstName.errors?.pattern">
                    First Name must start with a capital letter and cannot contain special characters or spaces at the
                    start/end.
                </div>
            </div>
        </div>

        <!-- Last Name -->
        <div class="form-group">
            <label>Last Name</label>
            <input type="text" name="LastName" #LastName="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.LastName" minlength="3" maxlength="25" required
                pattern="^[A-Z][a-zA-Z]*( [A-Z][a-zA-Z]*)*$"
                [ngClass]="{'is-invalid': LastName.invalid && (LastName.dirty || LastName.touched)}" />

            <div class="validation-error" *ngIf="LastName.invalid && (LastName.dirty || LastName.touched)">
                <div *ngIf="LastName.errors?.required">Last Name is required!</div>
                <div *ngIf="LastName.errors?.minlength">Must be at least 3 characters long.</div>
                <div *ngIf="LastName.errors?.pattern">
                    Last Name must start with a capital letter and cannot contain special characters or spaces at the
                    start/end.
                </div>
            </div>
        </div>

        <!-- Gender -->
        <div class="form-group">
            <label>Gender</label>
            <select name="Gender" id="Gender" #Gender="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Gender" required>
                <option value="" disabled selected>---Select Gender---</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select>
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Gender.touched && Gender.invalid">
                <div *ngIf="Gender.errors?.required">
                    Gender is required!
                </div>
            </div>
        </div>

        <!-- Date of Birth -->
        <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" name="DateOfBirth" #DateOfBirth="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.DateOfBirth" required
                [ngClass]="{'is-invalid': DateOfBirth.touched && DateOfBirth.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="DateOfBirth.touched && DateOfBirth.invalid">
                <div *ngIf="DateOfBirth.errors?.required">
                    Date of Birth is required!
                </div>
            </div>
        </div>



        <!-- Blood Group Dropdown -->
        <div class="form-group">
            <label for="BloodGroup">Blood Group</label>
            <select name="BloodGroup" id="BloodGroup" #BloodGroup="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.BloodGroup" required>
                <option value="" selected disabled>---Select Blood Group---</option>
                <option value="A+">A+</option>
                <option value="A-">A-</option>
                <option value="B+">B+</option>
                <option value="B-">B-</option>
                <option value="AB+">AB+</option>
                <option value="AB-">AB-</option>
                <option value="O+">O+</option>
                <option value="O-">O-</option>
            </select>
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="BloodGroup.touched && BloodGroup.invalid">
                <div *ngIf="BloodGroup.errors?.required">
                    Blood group is required!
                </div>
            </div>
        </div>

        <!-- Joining Date -->
        <div class="form-group">
            <label>Joining Date</label>
            <input type="date" name="JoiningDate" #JoiningDate="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.JoiningDate" required
                [ngClass]="{'is-invalid': JoiningDate.touched && JoiningDate.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="JoiningDate.touched && JoiningDate.invalid">
                <div *ngIf="JoiningDate.errors?.required">
                    Joining Date is required!
                </div>
            </div>
        </div>

        <!-- Salary -->
        <div class="form-group">
            <label>Salary</label>
            <input type="number" name="Salary" #Salary="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Salary" required min="0"
                [ngClass]="{'is-invalid': Salary.touched && Salary.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Salary.touched && Salary.invalid">
                <div *ngIf="Salary.errors?.required">
                    Salary is required!
                </div>
                <div *ngIf="Salary.errors?.min">
                    Salary cannot be negative.
                </div>
            </div>
        </div>

        <!-- Experience -->
        <div class="form-group">
            <label>Experience (in years)</label>
            <input type="number" name="Experience" #Experience="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Experience" required min="0"
                [ngClass]="{'is-invalid': Experience.touched && Experience.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Experience.touched && Experience.invalid">
                <div *ngIf="Experience.errors?.required">
                    Experience is required!
                </div>
                <div *ngIf="Experience.errors?.min">
                    Experience cannot be negative.
                </div>
            </div>
        </div>

        <!-- Phone Number -->
        <div class="form-group">
            <label>Phone Number</label>
            <input type="text" name="PhoneNumber" #PhoneNumber="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.PhoneNumber" required pattern="^[6-9][0-9]{9}$" minlength="10"
                maxlength="10"
                [ngClass]="{'is-invalid': PhoneNumber.invalid && (PhoneNumber.dirty || PhoneNumber.touched)}" />

            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="PhoneNumber.invalid && (PhoneNumber.dirty || PhoneNumber.touched)">
                <div *ngIf="PhoneNumber.errors?.required">
                    Phone Number is required!
                </div>
                <div
                    *ngIf="PhoneNumber.errors?.pattern || PhoneNumber.errors?.minlength || PhoneNumber.errors?.maxlength">
                    Phone Number must be exactly 10 digits and start with a digit from 6 to 9.
                </div>
            </div>
        </div>
        <!-- Email -->
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="Email" #Email="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Email" required
                [ngClass]="{'is-invalid': Email.touched && Email.invalid}" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Email.touched && Email.invalid">
                <div *ngIf="Email.errors?.required">
                    Email is required!
                </div>
                <div *ngIf="Email.errors?.email">
                    Please enter a valid email address.
                </div>
            </div>
        </div>

        <!-- Qualification -->
        <div class="form-group">
            <label>Qualification </label>
            <input type="text" name="Qualification" #Qualification="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Qualification" />
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="Qualification.touched && Qualification.invalid">
                <div *ngIf="Qualification.errors?.required">
                    Qualification is required!
                </div>
            </div>
        </div>

        <!-- Address -->
        <div class="form-group">
            <label>Address</label>
            <input type="text" name="Address" #Address="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Address" />
            <div class="validation-error" *ngIf="Address.touched && Address.invalid">
                <div *ngIf="Address.errors?.required">
                    Address is required!
                </div>
            </div>


        </div>

        <!-- Role Dropdown -->
        <div class="form-group">
            <label>Role</label>
            <select name="RoleId" id="RoleId" #RoleId="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.RoleId" required>
                <option value="0" selected disabled>---Select Role---</option>
                <option *ngFor="let role of adminService.roles" [value]="role.RoleId">{{role.RoleName}}</option>
            </select>
            <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="RoleId.touched && RoleId.invalid">
                <div *ngIf="RoleId.errors?.required">
                    Role is required!
                </div>
            </div>
        </div>

        <div class="form-group"> <label for="DepartmentId">Department</label> <select name="DepartmentId"
                id="DepartmentId" #DepartmentId="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.DepartmentId" required>
                <option value="0" selected disabled>---Select Department---</option>
                <option *ngFor="let dept of adminService.departments" [value]="dept.DepartmentId">
                    {{dept.DepartmentName}}</option>
            </select> <!-- Validation Error Message -->
            <div class="validation-error" *ngIf="DepartmentId.touched && DepartmentId.invalid">
                <div *ngIf="DepartmentId.errors?.required"> Department is required! </div>
            </div>
        </div>



        <!-- IsActive Checkbox -->
        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" name="IsActive" #Inservice="ngModel" class="form-check-input"
                    [(ngModel)]="adminService.staff.IsActive" />
                <label class="form-check-label"> IsActive </label>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-lg btn-primary form-control"
                [disabled]="!(form.valid && form.dirty)">INSERT</button>
        </div>
        <!-- Back Button -->
        <div class="form-group">
            <button type="button" class="btn btn-outline-info" (click)="goBack()">BACK</button>
        </div>
    </form>
</div>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
    }

    .container {
        max-width: 600px;
        margin: 30px auto;
        padding: 20px;
        background: rgb(165, 213, 226);
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    h3 {
        text-align: center;
        margin-bottom: 20px;
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-group label {
        font-weight: bold;
        margin-bottom: 5px;
        display: block;
    }

    .form-control {
        border: 1px solid #ced4da;
        border-radius: 5px;
        padding: 10px;
        transition: border-color 0.2s ease-in-out;
    }

    .form-control:focus {
        border-color: #c0f5f1;
        outline: none;
        box-shadow: 0 0 5px rgba(190, 210, 196, 0.5);
    }

    .validation-error {
        color: red;
        font-size: 0.875em;
        margin-top: 5px;
    }

    .btn {
        width: 100%;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
    }
</style>